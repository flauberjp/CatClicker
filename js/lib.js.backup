class Cat {
    constructor(nome, cliques = 0) {
        this.nome = nome;
        this.cliques = cliques;
    }

    getUrl() {
        return 'img/cats/' + this.nome + '.jpg';
    }

    getCliques() {
        return this.cliques;
    }

    clicado() {
        this.cliques += 1;
        return;
    }
}

var catsNames = ['jetske', 'bicolour', 'chewie', 'iceandfire', 'poplinre'];
catsNames.sort();

var cats = [];

for (var i = 0; i < catsNames.length; i++) {
    var cat = new Cat(catsNames[i]);
    cats.push(cat);

    var elem = document.createElement('li');
    var catNameLink = document.createElement('a');
    catNameLink.innerText = cats[i].nome;
    elem.appendChild(catNameLink);

    catNameLink.addEventListener('click', (function(catCopy) {
        return function() {
            document.getElementById("cat-nome").innerText = catCopy.nome;
            document.getElementById("cat-cliques").innerText = catCopy.cliques;
            var foto = document.getElementById("cat-foto");
            foto.setAttribute("src", catCopy.getUrl());
            foto.onclick = (function(catCopyOfTheCopy) {
                return function() {
                    catCopyOfTheCopy.clicado();
                    document.getElementById("cat-cliques").innerText = catCopyOfTheCopy.cliques;
                }
            })(catCopy);
        }
    })(cat));

    document.getElementById('fotos').appendChild(elem);
}